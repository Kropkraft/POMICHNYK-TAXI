<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taxi Metrics ‚Äî –ü–æ–º—ñ—á–Ω–∏–∫ –≤–æ–¥—ñ—è</title>
<style>
body { font-family: Arial; background:#f5f5f5; padding:20px; max-width:600px; margin:auto; }
.card { background:white; padding:20px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-top:20px; }
button { background:#007bff; color:white; border:none; padding:10px 15px; border-radius:6px; cursor:pointer; }
button:hover { background:#0056b3; }
input, select { width:100%; padding:8px; margin-top:10px; }
.step { display:none; }
.step.active { display:block; }
</style>
</head>
<body>

<h2>üöñ Taxi Metrics ‚Äî –ú–∞–π—Å—Ç–µ—Ä –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>

<div id="step1" class="step active card">
  <h3>–ö—Ä–æ–∫ 1: –í–∏–±—ñ—Ä –º–æ–≤–∏</h3>
  <select id="lang">
    <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
    <option value="en">English</option>
  </select>
  <button onclick="nextStep(2)">–î–∞–ª—ñ</button>
</div>

<div id="step2" class="step card">
  <h3>–ö—Ä–æ–∫ 2: –ë–∞–∑–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</h3>
  <input id="city" placeholder="–ú—ñ—Å—Ç–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –ö–∏—ó–≤)">
  <input id="costs" placeholder="–í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –¥–µ–Ω—å (–≥—Ä–Ω)">
  <button onclick="nextStep(1)">–ù–∞–∑–∞–¥</button>
  <button onclick="nextStep(3)">–î–∞–ª—ñ</button>
</div>

<div id="step3" class="step card">
  <h3>–ö—Ä–æ–∫ 3: –Ü–º–ø–æ—Ä—Ç CSV –∑ PrivatBank</h3>
  <input type="file" id="csvFile" accept=".csv">
  <p>–ï–∫—Å–ø–æ—Ä—Ç—É–π CSV —ñ–∑ Privat24 ‚Üí –ó–∞–≤–∞–Ω—Ç–∞–∂ —Å—é–¥–∏</p>
  <button onclick="parseCSV()">–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏</button>
  <p id="csvStatus"></p>
  <button onclick="nextStep(2)">–ù–∞–∑–∞–¥</button>
  <button onclick="nextStep(4)">–î–∞–ª—ñ</button>
</div>

<div id="step4" class="step card">
  <h3>–ö—Ä–æ–∫ 4: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Google Drive</h3>
  <input id="clientId" placeholder="–í—Å—Ç–∞–≤ —Å—é–¥–∏ Client ID –∑ Google Cloud Console">
  <button onclick="authorize()">–ê–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—å</button>
  <p id="authStatus"></p>
  <button onclick="nextStep(3)">–ù–∞–∑–∞–¥</button>
</div>

<script>
let currentStep = 1;
function nextStep(n) {
  document.querySelector('#step' + currentStep).classList.remove('active');
  currentStep = n;
  document.querySelector('#step' + currentStep).classList.add('active');
}

function parseCSV() {
  const file = document.getElementById('csvFile').files[0];
  if (!file) return alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä–∏ CSV —Ñ–∞–π–ª');
  const reader = new FileReader();
  reader.onload = e => {
    const text = e.target.result;
    const rows = text.split('\n').length - 1;
    document.getElementById('csvStatus').innerText = `‚úÖ –Ü–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ ${rows} —Ä—è–¥–∫—ñ–≤`;
  };
  reader.readAsText(file, 'windows-1251');
}

function authorize() {
  const clientId = document.getElementById('clientId').value;
  if (!clientId) return alert('–í—Å—Ç–∞–≤ Client ID!');
  document.getElementById('authStatus').innerText = 'üîÑ –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –≤—ñ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó...';
  setTimeout(() => {
    document.getElementById('authStatus').innerText = '‚úÖ Google Drive —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞!';
  }, 2000);
}
</script>

</body>
</html>
